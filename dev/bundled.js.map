{"version":3,"sources":["webpack:///webpack/bootstrap ce34dda8ad607fc81a9b","webpack:///./dev/index.js","webpack:///./src/index.js","webpack:///./src/Kernel.js","webpack:///./src/utils.js","webpack:///./src/ProcessList.js","webpack:///./src/ProcessInfo.js","webpack:///./src/Pid.js","webpack:///./src/Process.js"],"names":["timeout","interval","Promise","resolve","setTimeout","receive","console","log","message","p2","p1","Kernel","Process","spawn","send","func","pId","DEV","toString","runProcess","pid","pInfo","ProcessList","getByRef","pushRequest","tryPushMessages","messages","name","new","register","processCleanup","unregister","pushExitHandler","pushErrorHandler","push","msg","isPushingMessages","length","unhandledMessages","takenEntries","splice","messagesEntry","acknowledge","request","takeRequest","noop","processesByRef","Map","get","ref","set","entries","key","value","delete","ProcessInfo","finished","isAlive","requests","onExit","onError","then","result","raiseExit","reason","raiseError","args","getExitHandlers","getErrorHandlers","handler","handlers","outcome","forEach","reaction","clear","Pid","PROC_NUM_FIELD","num","lastID","raw","subject","isPid","pidMaybe","fromJSON","o","equals","prototype","valueOf","toJSON","link","monitor","end","getPInfo","sourcePid","targetPid","target","source","observedPid","observerPid","observer","observed"],"mappings":"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","file":"bundled.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ce34dda8ad607fc81a9b\n **/","import {spawn, send} from '../src'\n\nfunction timeout (interval) {\n  return new Promise((resolve) => setTimeout(resolve, interval))\n}\n\nconst [, p1] = spawn(async function (receive) {\n  console.log('p1 start')\n  while (true) {\n    const message = await receive()\n    console.log('p1 <', message)\n    await timeout(1000)\n    await send(p2, 'pong')\n  }\n})\n\nconst [, p2] = spawn(async function (receive) {\n  console.log('p2 start')\n  while (true) {\n    const message = await receive()\n    console.log('p2 <', message)\n    await timeout(1000)\n    await send(p1, 'ping')\n  }\n})\n\nsend(p1, 'start')\n\n\n\n/** WEBPACK FOOTER **\n ** ./dev/index.js\n **/","import * as Kernel from './Kernel'\nimport * as Process from './Process'\nconst {spawn, send} = Kernel\n\nexport {\n  spawn,\n  send,\n  Kernel,\n  Process\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import {\n  timeout\n} from './utils'\nimport * as ProcessList from './ProcessList'\nimport ProcessInfo from './ProcessInfo'\nimport Pid from './Pid'\n\nconst messages = []\n\nconst DEV = 0\n\nexport {\n  spawn,\n  send\n}\n\nfunction spawn (func, name) {\n  if (typeof func !== 'function') {\n    return [false, 'Liquid.Kernel.spawn Process must be function']\n  }\n\n  const pId = Pid.new()\n\n  if (typeof name === 'string' && name && ProcessList.getByRef(name)) {\n    return [false, 'Liquid.Kernel.spawn Process name already taken']\n  }\n\n  const pInfo = ProcessInfo.new(runProcess(func, pId))\n\n  DEV && console.log('> spawn', pId.toString())\n\n  ProcessList.register(pId, pInfo)\n  if (name) {\n    ProcessList.register(name, pInfo)\n  }\n\n  const processCleanup = () => {\n    DEV && console.log('> cleanup', pId.toString())\n    ProcessList.unregister(pId)\n  }\n\n  ProcessInfo.pushExitHandler(pInfo, processCleanup)\n  ProcessInfo.pushErrorHandler(pInfo, processCleanup)\n\n  return [true, pId]\n}\n\nasync function runProcess (func, pId) {\n  DEV && console.log('> runProcess', pId.toString())\n\n  await timeout()\n\n  return func(\n    () => receive(pId),\n    pId\n  )\n}\n\nfunction send (pid, message) {\n  DEV && console.log('> send', pid.toString(), message)\n\n  if (!pid) {\n    return [false, 'Liquid.Kernel.send Empty ID']\n  }\n\n  if (!ProcessList.getByRef(pid)) {\n    return [false, 'Liquid.Kernel.send Dead process']\n  }\n\n  return new Promise((resolve) => {\n    messages.push([pid, message, msg => setTimeout(() => resolve(msg), 0)])\n    tryPushMessages()\n  })\n}\n\nasync function receive (pid) {\n  DEV && console.log('> receive', pid.toString())\n\n  return await new Promise((resolve) => {\n    const pInfo = ProcessList.getByRef(pid)\n    if (!pInfo) {\n      return [false, 'Liquid.Kernel.receive Reading process is marked as gone']\n    }\n    ProcessInfo.pushRequest(pInfo, resolve)\n    tryPushMessages()\n  })\n}\n\nlet isPushingMessages = false\n\nfunction tryPushMessages () {\n  DEV && console.log('> tryPushMessages', messages.length)\n\n  if (!messages.length) return\n\n  if (isPushingMessages) return\n  isPushingMessages = true\n\n  const unhandledMessages = []\n\n  while (true) {\n    const takenEntries = messages.splice(0, 1)\n    if (takenEntries.length === 0) break\n    const messagesEntry = takenEntries[0]\n    const [pid, message, acknowledge] = messagesEntry\n\n    const pInfo = ProcessList.getByRef(pid)\n    if (!pInfo) {\n      DEV && console.log('> tryPushMessages - process', pid.toString(), 'dead')\n      acknowledge([false, 'Liquid.Kernel sending to dead process'])\n      continue\n    }\n\n    const request = ProcessInfo.takeRequest(pInfo)\n    if (!request) {\n      DEV && console.log('> tryPushMessages - process', pid.toString(), 'NOT receiving')\n      unhandledMessages.push(messagesEntry)\n      continue\n    }\n\n    DEV && console.log('> tryPushMessages - process', pid.toString(), 'receiving')\n    request(message)\n    acknowledge([true, 'ok'])\n  }\n\n  DEV && console.log('> tryPushMessages, unhandled:', unhandledMessages.length)\n  messages.splice(0, 0, ...unhandledMessages)\n\n  isPushingMessages = false\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Kernel.js\n **/","export const noop = () => {}\n\nexport function timeout (interval = 0) {\n  return new Promise((resolve) => setTimeout(resolve, 0))\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","const processesByRef = new Map()\n\nexport {\n  getByRef,\n  register,\n  unregister\n}\n\nfunction getByRef (pId) {\n  return processesByRef.get(pId)\n}\n\nfunction register (ref, pInfo) {\n  processesByRef.set(ref, pInfo)\n}\n\nfunction unregister (ref) {\n  const pInfo = getByRef(ref)\n  for (let [key, value] of processesByRef.entries()) {\n    if (pInfo === value) {\n      processesByRef.delete(key)\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ProcessList.js\n **/","export default function ProcessInfo (finished) {\n  this.isAlive = true\n  this.requests = []\n  this.onExit = []\n  this.onError = []\n\n  finished.then(\n    result => ProcessInfo.raiseExit(this, result),\n    reason => ProcessInfo.raiseError(this, reason)\n  )\n}\n\nProcessInfo.new = (...args) => new ProcessInfo(...args)\n\nProcessInfo.pushRequest = (pInfo, request) => {\n  if (!pInfo.isAlive) return\n  pInfo.requests.push(request)\n}\n\nProcessInfo.takeRequest = (pInfo) => {\n  if (!pInfo.isAlive) return\n  return pInfo.requests.splice(0, 1)[0]\n}\n\nProcessInfo.isAlive = pInfo => pInfo.isAlive\n\nProcessInfo.getExitHandlers = pInfo => pInfo.onExit\nProcessInfo.getErrorHandlers = pInfo => pInfo.onError\n\nProcessInfo.pushExitHandler = (pInfo, handler) => {\n  if (!pInfo.isAlive) return\n  const handlers = ProcessInfo.getExitHandlers(pInfo)\n  handlers && handlers.push(handler)\n}\nProcessInfo.pushErrorHandler = (pInfo, handler) => {\n  if (!pInfo.isAlive) return\n  const handlers = ProcessInfo.getErrorHandlers(pInfo)\n  handlers && handlers.push(handler)\n}\n\nProcessInfo.raiseExit = (pInfo, outcome) => {\n  if (!pInfo.isAlive) return\n  pInfo.isAlive = false\n  ProcessInfo.getExitHandlers(pInfo).forEach(reaction => reaction(outcome))\n  ProcessInfo.clear(pInfo)\n}\nProcessInfo.raiseError = (pInfo, outcome) => {\n  if (!pInfo.isAlive) return\n  pInfo.isAlive = false\n  ProcessInfo.getErrorHandlers(pInfo).forEach(reaction => reaction(outcome))\n  ProcessInfo.clear(pInfo)\n}\n\nProcessInfo.clear = pInfo => {\n  pInfo.requests.splice(0, pInfo.requests.length)\n  pInfo.onExit.splice(0, pInfo.onExit.length)\n  pInfo.onError.splice(0, pInfo.onError.length)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ProcessInfo.js\n **/","const PROC_NUM_FIELD = '__pid'\n\nexport default function Pid (num) {\n  this[PROC_NUM_FIELD] = num\n}\n\nlet lastID = 0\n\nPid.new = () => new Pid(++lastID)\n\nPid.raw = (subject) => subject[PROC_NUM_FIELD]\n\nPid.isPid = pidMaybe => (\n  typeof pidMaybe === 'object' &&\n  pidMaybe &&\n  typeof Pid.raw(pidMaybe) === 'number' &&\n  Pid.raw(pidMaybe)\n)\n\nPid.fromJSON = (o) => Pid.new(o[PROC_NUM_FIELD])\n\nPid.equals = (p1, p2) => Pid.raw(p1) === Pid.raw(p2)\n\nPid.prototype = {\n  valueOf () { return Pid.raw(this) },\n  toString () { return Pid.raw(this).toString() },\n  toJSON () { return {[PROC_NUM_FIELD]: Pid.raw(this)} }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Pid.js\n **/","import * as Kernel from './Kernel'\nimport * as ProcessList from './ProcessList'\nimport ProcessInfo from './ProcessInfo'\n\nexport {\n  isAlive,\n  link,\n  monitor,\n  end\n}\n\nfunction isAlive (pId) {\n  return !!getPInfo(pId)\n}\n\nfunction link (sourcePid, targetPid) {\n  if (!sourcePid || !targetPid) {\n    return [false, 'Liquid.Process.link Insufficient amount of arguments']\n  }\n\n  if (sourcePid === targetPid) {\n    return [false, 'Liquid.Process.link Self-link does nothing']\n  }\n\n  const target = getPInfo(targetPid)\n  if (!target) {\n    return [false, 'Luquid.Process.link Target is already dead process']\n  }\n\n  const source = getPInfo(sourcePid)\n  if (!source) {\n    return [false, 'Luquid.Process.link Source is already dead process']\n  }\n\n  ProcessInfo.pushExitHandler(\n    source,\n    outcome => ProcessInfo.raiseExit(target, outcome)\n  )\n\n  ProcessInfo.pushErrorHandler(\n    source,\n    outcome => ProcessInfo.raiseError(target, outcome)\n  )\n\n  return [true, 'ok']\n}\n\nfunction monitor (observedPid, observerPid) {\n  if (!observedPid || !observerPid) {\n    return [false, 'Liquid.Process.monitor Insufficient amount of arguments']\n  }\n\n  if (observedPid === observerPid) {\n    return [false, 'Liquid.Process.monitor Self-monitor does nothing']\n  }\n\n  const observer = getPInfo(observerPid)\n  if (!observer) {\n    return [false, 'Luquid.Process.link Observer is already dead process']\n  }\n\n  const observed = getPInfo(observedPid)\n\n  if (observed) {\n    ProcessInfo.pushExitHandler(\n      observed,\n      result => { Kernel.send(observerPid, ['exit', observedPid, result]) }\n    )\n\n    ProcessInfo.pushErrorHandler(\n      observed,\n      reason => { Kernel.send(observerPid, ['error', observedPid, reason]) }\n    )\n  } else {\n    Kernel.send(observerPid, ['exit', observedPid])\n  }\n\n  return [true]\n}\n\nfunction end (ref) {\n  const pInfo = getPInfo(ref)\n  if (!pInfo) {\n    return ['exit', ref]\n  }\n  return new Promise(resolve => {\n    ProcessInfo.pushExitHandler(pInfo, result => resolve(['exit', ref, result]))\n    ProcessInfo.pushErrorHandler(pInfo, reason => resolve(['error', ref, reason]))\n  })\n}\n\nfunction getPInfo (pId) {\n  const pInfo = ProcessList.getByRef(pId)\n  if (!pInfo) return\n  if (!ProcessInfo.isAlive(pInfo)) return\n  return pInfo\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Process.js\n **/"],"sourceRoot":""}