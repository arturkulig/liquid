'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.exit=exports.endOf=exports.demonitor=exports.monitor=exports.unlink=exports.link=exports.isAlive=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i['return'])_i['return']()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError('Invalid attempt to destructure non-iterable instance')}}}();let exit=(()=>{var _ref=_asyncToGenerator(function*(pid,reason='shutdown'){const pInfo=(0,_ProcessUtils.getPInfo)(pid);if(!pInfo)return false;switch(reason){case'shutdown':{yield _ProcessInfo2.default.raiseExit(pInfo);break}case'error':{yield _ProcessInfo2.default.raiseError(pInfo);break}default:{return false}}yield _ProcessInfo2.default.resolution(pInfo);return true});return function exit(_x,_x2){return _ref.apply(this,arguments)}})();let endOf=(()=>{var _ref2=_asyncToGenerator(function*(pid){if(!pid){return[null]}const pInfo=ProcessList.getByRef(pid);if(!pInfo){return[null,pid]}var _ref3=yield _ProcessInfo2.default.resolution(pInfo);var _ref4=_slicedToArray(_ref3,2);const code=_ref4[0];const result=_ref4[1];return[code,pid,result]});return function endOf(_x3){return _ref2.apply(this,arguments)}})();var _ProcessList=require('./ProcessList');var ProcessList=_interopRequireWildcard(_ProcessList);var _ProcessInfo=require('./ProcessInfo');var _ProcessInfo2=_interopRequireDefault(_ProcessInfo);var _ProcessUtils=require('./Process.utils.js');var _ProcessLink=require('./Process.link.js');var _ProcessMonitor=require('./Process.monitor.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step('next',value)},function(err){step('throw',err)})}}return step('next')})}}exports.isAlive=isAlive;exports.link=_ProcessLink.link;exports.unlink=_ProcessLink.unlink;exports.monitor=_ProcessMonitor.monitor;exports.demonitor=_ProcessMonitor.demonitor;exports.endOf=endOf;exports.exit=exit;function isAlive(pid){return!!(0,_ProcessUtils.getPInfo)(pid)}